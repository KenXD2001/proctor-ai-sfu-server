# ProctorAI SFU Server Environment Configuration
# Copy this file to .env and update with your actual values

# Backend API URL Configuration
# For local development: use http://localhost:8000
# For production (when SFU is on separate server): use https://api.proctorai.in
BACKEND_API_URL=http://localhost:8000

# Server Configuration
PORT=3000
HOST=0.0.0.0
CORS_ORIGIN=*
CORS_METHODS=GET,POST
CORS_CREDENTIALS=true

# JWT Configuration
JWT_SECRET=your-secret-key-here

# WebRTC Configuration
WEBRTC_LISTEN_IP=0.0.0.0
WEBRTC_ANNOUNCED_IP=192.168.137.89
WEBRTC_ENABLE_UDP=true
WEBRTC_ENABLE_TCP=true
WEBRTC_PREFER_UDP=true

# MediaSoup Configuration
MEDIASOUP_LOG_LEVEL=warn
MEDIASOUP_LOG_TAGS=info,ice,dtls,rtp,srtp,rtcp
RTC_MIN_PORT=10000
RTC_MAX_PORT=59999
MEDIASOUP_AUDIO_CODEC=audio/opus
MEDIASOUP_AUDIO_CLOCK_RATE=48000
MEDIASOUP_AUDIO_CHANNELS=2
MEDIASOUP_VIDEO_CODEC=video/VP8
MEDIASOUP_VIDEO_CLOCK_RATE=90000

# Recording Configuration
RECORDING_PATH=recordings
RECORDING_IP=127.0.0.1
RECORDING_FFMPEG_PORT_OFFSET=10000
RECORDING_FFMPEG_TIMEOUT=5000000
RECORDING_FFMPEG_LOG_LEVEL=error
RECORDING_FFMPEG_FLAGS=+genpts

# Staging Directory for File Queuing
STAGING_DIR=staging

# Timeout Configuration
TIMEOUT_PRODUCER_ACTIVE=10000
TIMEOUT_PRODUCER_CHECK_INTERVAL=1000
TIMEOUT_FFMPEG_INIT=1000
TIMEOUT_TRANSPORT_STABILIZE=2000

# Role-based Access Control
ROLE_ADMIN_CAN_ACCESS=invigilator
ROLE_INVIGILATOR_CAN_ACCESS=student
ROLE_STUDENT_CAN_ACCESS=

# Logging Configuration
LOG_LEVEL=info
LOG_ENABLE_TIMESTAMPS=true

# DigitalOcean Spaces / S3 Configuration
DO_REGION=blr1
DO_SPACE=aiproctor
DO_ENDPOINT=https://blr1.digitaloceanspaces.com
DO_ACCESS_KEY=your-access-key-here
DO_SECRET_KEY=your-secret-key-here
