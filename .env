# ============================================
# ProctorAI SFU Server Configuration
# ============================================
# All configuration values are now in this file
# Modify values as needed for your environment
# ============================================

# ============================================
# Server Configuration
# ============================================
PORT=3000
HOST=0.0.0.0

# CORS Configuration
CORS_ORIGIN=*
CORS_METHODS=GET,POST
CORS_CREDENTIALS=true

# ============================================
# JWT Configuration
# ============================================
JWT_SECRET=supersecret
# IMPORTANT: Change this to a secure random string in production!

# ============================================
# WebRTC Configuration
# ============================================
WEBRTC_LISTEN_IP=0.0.0.0

WEBRTC_ANNOUNCED_IP=192.168.56.1


# Set WEBRTC_ANNOUNCED_IP to your server's public IP address
WEBRTC_ENABLE_UDP=true
WEBRTC_ENABLE_TCP=true
WEBRTC_PREFER_UDP=true

# ============================================
# MediaSoup Configuration
# ============================================
MEDIASOUP_LOG_LEVEL=warn
MEDIASOUP_LOG_TAGS=info,ice,dtls,rtp,srtp,rtcp
RTC_MIN_PORT=10000
RTC_MAX_PORT=59999

# MediaSoup Codec Configuration
MEDIASOUP_AUDIO_CODEC=audio/opus
MEDIASOUP_AUDIO_CLOCK_RATE=48000
MEDIASOUP_AUDIO_CHANNELS=2
MEDIASOUP_VIDEO_CODEC=video/VP8
MEDIASOUP_VIDEO_CLOCK_RATE=90000

# ============================================
# Recording Configuration
# ============================================
RECORDING_PATH=recordings
RECORDING_IP=127.0.0.1
# RECORDING_IP: IP address for recording transport (usually localhost)
RECORDING_FFMPEG_PORT_OFFSET=10000

# FFmpeg Configuration
RECORDING_FFMPEG_TIMEOUT=5000000
RECORDING_FFMPEG_LOG_LEVEL=error
RECORDING_FFMPEG_FLAGS=+genpts

# Audio Recording Configuration
RECORDING_AUDIO_DURATION=10
RECORDING_AUDIO_BITRATE=128k
RECORDING_AUDIO_SAMPLE_RATE=44100
RECORDING_AUDIO_CHANNELS=2
RECORDING_AUDIO_CODEC=libmp3lame

# Webcam Recording Configuration
RECORDING_WEBCAM_QUALITY=2
# JPEG quality (1-31, lower is better quality)
RECORDING_WEBCAM_MAX_FRAMES=1

# ============================================
# Timeout Configuration (in milliseconds)
# ============================================
TIMEOUT_PRODUCER_ACTIVE=10000
TIMEOUT_PRODUCER_CHECK_INTERVAL=1000
TIMEOUT_FFMPEG_INIT=1000
TIMEOUT_TRANSPORT_STABILIZE=2000

# ============================================
# Role-Based Access Control
# ============================================
# Comma-separated list of roles that each role can access
ROLE_ADMIN_CAN_ACCESS=invigilator
ROLE_INVIGILATOR_CAN_ACCESS=student
ROLE_STUDENT_CAN_ACCESS=

# ============================================
# Logging Configuration
# ============================================
LOG_LEVEL=info
LOG_ENABLE_TIMESTAMPS=true



#s3 
DO_REGION=blr1
DO_SPACE=aiproctor
DO_ENDPOINT=https://blr1.digitaloceanspaces.com
DO_CDN=https://aiproctor.blr1.cdn.digitaloceanspaces.com
DO_ACCESS_KEY=DO801TTM4BA2QERJGNNP
DO_SECRET_KEY=5Yzh41D5RjflWJpB8mk5fsWwbQoa9YnW2iGUdX/LDc0

